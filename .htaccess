RewriteEngine On

# 移除index.html
RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /([^/]+/)*index\.html\ HTTP/
RewriteRule ^(([^/]+/)*)index\.html$ /$1 [R=301,L]

# 确保语言目录有尾部斜杠
RewriteRule ^(zh|ja)$ /$1/ [R=301,L]

# 语言子目录下的所有路径都指向对应的index.html
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^zh/(.*)$ /zh/index.html [L]

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ja/(.*)$ /ja/index.html [L]

# 将/en路径重定向到根目录
RewriteRule ^en(/.*)?$ / [R=301,L] 